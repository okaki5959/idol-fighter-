<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IDOL FIGHTER</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Zen Maru Gothic -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700;900&display=swap" rel="stylesheet">

    <!-- Babel for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Import Map for React modules -->
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18.2.0",
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
            "lucide-react": "https://esm.sh/lucide-react@0.300.0"
        }
    }
    </script>

    <style>
        body {
            font-family: 'Zen Maru Gothic', sans-serif;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            background-color: #0f172a; /* slate-900 */
        }
        
        /* Custom Utilities */
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }

        @keyframes float {
          0%, 100% { transform: translateY(0) rotate(0deg); }
          50% { transform: translateY(-20px) rotate(5deg); }
        }
        .animate-float { animation: float 10s linear infinite; }

        @keyframes reveal {
          0% { clip-path: circle(0% at center); }
          100% { clip-path: circle(100% at center); }
        }
        .circle-reveal {
          position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
          width: 200vmax; height: 200vmax; border-radius: 50%; z-index: 1;
          animation: reveal 0.7s cubic-bezier(0.25, 1, 0.5, 1) forwards;
          pointer-events: none;
        }

        @keyframes explode {
          0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
          20% { opacity: 1; }
          100% { transform: translate(calc(-50% + var(--tx)), calc(-50% + var(--ty))) scale(1); opacity: 0; }
        }
        .animate-explode { animation: explode 0.8s ease-out forwards; }

        @keyframes text-bounce-in {
          0% { transform: scale(0.5) rotate(-6deg); opacity: 0; }
          40% { transform: scale(1.1) rotate(-6deg); opacity: 0.4; }
          60% { transform: scale(0.95) rotate(-6deg); opacity: 0.3; }
          100% { transform: scale(1) rotate(-6deg); opacity: 0.2; }
        }
        .animate-text-bounce { animation: text-bounce-in 1s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }

        @keyframes spin-slow { 0% { transform: translate(-50%, -50%) rotate(0deg); } 100% { transform: translate(-50%, -50%) rotate(360deg); } }
        .animate-spin-slow { animation: spin-slow 60s linear infinite; }
        
        @keyframes spin-reverse-slow { 0% { transform: translate(-50%, -50%) rotate(360deg); } 100% { transform: translate(-50%, -50%) rotate(0deg); } }
        .animate-spin-reverse-slow { animation: spin-reverse-slow 45s linear infinite; }
        
        @keyframes float-slow { 0%, 100% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-30px) rotate(10deg); } }
        .animate-float-slow { animation: float-slow 10s ease-in-out infinite; }
        
        @keyframes drift-line { 0% { transform: translateX(-100%) rotate(var(--r, -10deg)); opacity: 0; } 50% { opacity: 1; } 100% { transform: translateX(100%) rotate(var(--r, -10deg)); opacity: 0; } }
        .animate-drift-line { animation: drift-line 8s linear infinite; }

        @keyframes pop-bounce { 0% { transform: scale(0) translateY(10px); opacity: 0; } 60% { transform: scale(1.3) translateY(-5px); opacity: 1; } 80% { transform: scale(0.9); } 100% { transform: scale(1) translateY(0); } }
        .animate-pop-bounce { animation: pop-bounce 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) backwards; }
        
        @keyframes slide-in { 0% { opacity: 0; transform: translateX(-20px); } 100% { opacity: 1; transform: translateX(0); } }
        .animate-slide-in { animation: slide-in 0.5s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; opacity: 0; }
        
        @keyframes pop-up { 0% { transform: scale(0.8); opacity: 0; } 60% { transform: scale(1.1); } 100% { transform: scale(1); opacity: 1; } }
        .animate-pop-up { animation: pop-up 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); }

        @keyframes character-enter-right { 0% { transform: translateX(50px) scale(0.9); opacity: 0; } 100% { transform: translateX(0) scale(1); opacity: 1; } }
        @keyframes character-exit-left { 0% { transform: translateX(0) scale(1); opacity: 1; } 100% { transform: translateX(-50px) scale(0.9); opacity: 0; } }
        @keyframes character-enter-left { 0% { transform: translateX(-50px) scale(0.9); opacity: 0; } 100% { transform: translateX(0) scale(1); opacity: 1; } }
        @keyframes character-exit-right { 0% { transform: translateX(0) scale(1); opacity: 1; } 100% { transform: translateX(50px) scale(0.9); opacity: 0; } }
        
        .char-enter-right { animation: character-enter-right 0.5s forwards; }
        .char-exit-left { animation: character-exit-left 0.3s forwards; }
        .char-enter-left { animation: character-enter-left 0.5s forwards; }
        .char-exit-right { animation: character-exit-right 0.3s forwards; }

        @keyframes shine { 0% { left: -100%; } 100% { left: 200%; } }
        .shine-effect::after { content: ''; position: absolute; top: 0; left: -100%; width: 50%; height: 100%; background: linear-gradient(to right, transparent, rgba(255,255,255,0.8), transparent); transform: skewX(-25deg); animation: shine 3s infinite; }

        /* EDM Laser Effects */
        @keyframes laser-shot { 0% { transform: translateX(0) scaleX(0); opacity: 0; } 20% { opacity: 1; transform: translateX(0) scaleX(1); } 100% { transform: translateX(100%) scaleX(2); opacity: 0; } }
        .animate-laser-shot { animation: laser-shot linear infinite; }
        
        @keyframes strobe { 0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.3; } 5% { transform: translate(-50%, -50%) scale(1.5); opacity: 0.8; } 10% { transform: translate(-50%, -50%) scale(1); opacity: 0.3; } 15% { transform: translate(-50%, -50%) scale(1.3); opacity: 0.6; } }
        .animate-strobe { animation: strobe 2s infinite; }
        
        @keyframes flash-hard { 0%, 90% { opacity: 0; } 92% { opacity: 0.2; } 94% { opacity: 0; } 96% { opacity: 0.3; } 100% { opacity: 0; } }
        .animate-flash-hard { animation: flash-hard 4s infinite; }
        
        @keyframes scroll-dot { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(15px); opacity: 0; } }
        .animate-scroll-dot { animation: scroll-dot 1.5s infinite; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useMemo, useRef, useCallback } from 'react';
        import { createRoot } from 'react-dom/client';
        import { ChevronLeft, ChevronRight, Music, Heart, Zap, Star, Sparkles, Mic, Crown, Flower, Smile, Hexagon, Menu, X, ArrowDown, Play, FileText, Calendar, Flame } from 'lucide-react';

        // --- データ定義 ---
        const IDOLS = [
            { 
                id: 1, 
                name: "Leo", 
                jpName: "赤城 玲央", 
                color: "from-red-500 to-orange-600", 
                bgAccent: "bg-red-100", 
                textAccent: "text-red-600", 
                catchphrase: "俺についてこい！世界を照らす情熱の太陽", 
                type: "Passion", 
                image: "https://i.ibb.co/P7k5TNW/idol1.png", 
                thumbnail: "https://i.ibb.co/Y4jfP5RJ/idol11.png", // SDキャラ
                stats: { vocal: 95, dance: 90, visual: 85 } 
            },
            { 
                id: 2, 
                name: "Kai", 
                jpName: "氷川 櫂", 
                color: "from-blue-500 to-cyan-500", 
                bgAccent: "bg-blue-100", 
                textAccent: "text-blue-600", 
                catchphrase: "冷静沈着、計算尽くのパーフェクト・ブルー", 
                type: "Cool", 
                image: "https://i.ibb.co/1YHks0cf/idol2.png", 
                thumbnail: "https://i.ibb.co/Rq96dM6/idol12.png", // SDキャラ
                stats: { vocal: 90, dance: 85, visual: 95 } 
            },
            { 
                id: 3, 
                name: "Hinata", 
                jpName: "星野 日向", 
                color: "from-yellow-300 to-orange-400", 
                bgAccent: "bg-yellow-100", 
                textAccent: "text-yellow-600", 
                catchphrase: "みんなの笑顔の充電器！ハッピー全開ビタミン", 
                type: "Pop", 
                image: "https://i.ibb.co/W4k423Sy/idol3.png", 
                thumbnail: "https://i.ibb.co/BRnSKcc/idol13.png", // SDキャラ
                stats: { vocal: 85, dance: 95, visual: 90 } 
            },
            { 
                id: 4, 
                name: "Sou", 
                jpName: "双葉 奏", 
                color: "from-green-400 to-emerald-500", 
                bgAccent: "bg-green-100", 
                textAccent: "text-green-600", 
                catchphrase: "君の心を優しく包む、癒しの森のマイナスイオン", 
                type: "Healing", 
                image: "https://i.ibb.co/MDCpfWpm/idol4.png", 
                thumbnail: "https://i.ibb.co/99FksRSM/idol14.png", // SDキャラ
                stats: { vocal: 92, dance: 75, visual: 88 } 
            },
            { 
                id: 5, 
                name: "Nico", 
                jpName: "桃瀬 にこ", 
                color: "from-pink-300 to-rose-400", 
                bgAccent: "bg-pink-100", 
                textAccent: "text-pink-500", 
                catchphrase: "あざとくても許してね？ラブリー全開、国民的弟", 
                type: "Cute", 
                image: "https://i.ibb.co/R4Qnk9qD/idol5.png", 
                thumbnail: "https://i.ibb.co/HL15bdpn/idol16.png", 
                stats: { vocal: 80, dance: 85, visual: 100 } 
            },
            { 
                id: 6, 
                name: "Shion", 
                jpName: "藤崎 紫音", 
                color: "from-purple-500 to-violet-600", 
                bgAccent: "bg-purple-100", 
                textAccent: "text-purple-600", 
                catchphrase: "今夜は眠らせない…魅惑のミステリアス・ナイト", 
                type: "Sexy", 
                image: "https://i.ibb.co/CKw7CPqF/idol6.png", 
                thumbnail: "https://i.ibb.co/xqRSnCyD/idol15.png", 
                stats: { vocal: 98, dance: 80, visual: 92 } 
            },
            { 
                id: 7, 
                name: "Gaku", 
                jpName: "豪田 岳", 
                color: "from-orange-500 to-amber-600", 
                bgAccent: "bg-orange-100", 
                textAccent: "text-orange-600", 
                catchphrase: "燃え尽きるまで騒ごうぜ！限界突破のワイルド・ビート", 
                type: "Wild", 
                image: "https://i.ibb.co/7trzD9Jr/idol7.png", 
                thumbnail: "https://i.ibb.co/yBqzWbB2/idol18.png", 
                stats: { vocal: 88, dance: 98, visual: 80 } 
            },
            { 
                id: 8, 
                name: "Sena", 
                jpName: "雨宮 聖奈", 
                color: "from-cyan-300 to-sky-400", 
                bgAccent: "bg-sky-100", 
                textAccent: "text-sky-600", 
                catchphrase: "ガラスの靴を持って迎えにいくよ。君だけのクリスタル・プリンス", 
                type: "Prince", 
                image: "https://i.ibb.co/67q5M3vM/idol8.png", 
                thumbnail: "https://i.ibb.co/WN0mvx06/idol17.png", 
                stats: { vocal: 94, dance: 88, visual: 96 } 
            },
            { 
                id: 9, 
                name: "Jay", 
                jpName: "若林 ジェイ", 
                color: "from-lime-400 to-green-500", 
                bgAccent: "bg-lime-100", 
                textAccent: "text-lime-600", 
                catchphrase: "規格外の異端児、常識なんてラップで吹き飛ばす", 
                type: "Unique", 
                image: "https://i.ibb.co/JRkG41mt/idol9.png", 
                thumbnail: "https://i.ibb.co/GvCLhHyv/idol19.png", // SDキャラ
                stats: { vocal: 90, dance: 96, visual: 85 } 
            },
            { 
                id: 10, 
                name: "Haku", 
                jpName: "白鳥 珀", 
                color: "from-gray-200 to-slate-400", 
                bgAccent: "bg-gray-100", 
                textAccent: "text-slate-600", 
                catchphrase: "誰も触れられない絶対聖域（サンクチュアリ）。奇跡のイノセンス", 
                type: "Mystery", 
                image: "https://i.ibb.co/q2dYCQT/idol10.png", 
                thumbnail: "https://i.ibb.co/wN7jz1W5/idol20.png", // SDキャラ
                stats: { vocal: 100, dance: 90, visual: 100 } 
            }
        ];
        const NEWS_DATA = [
            { date: '2024.10.25', cat: 'EVENT', title: 'ハロウィン限定イベント「Sweet Ghost」開催決定！' },
            { date: '2024.10.18', cat: 'UPDATE', title: '新キャラクター「Kira」参戦！キャラクターページ更新' },
            { date: '2024.10.10', cat: 'MEDIA', title: '公式Webラジオ第12回配信開始' },
            { date: '2024.10.01', cat: 'INFO', title: 'システムメンテナンスのお知らせ' },
        ];

        // --- Hooks ---
        const useScroll = () => {
            const [scrollY, setScrollY] = useState(0);
            useEffect(() => {
                const handleScroll = () => setScrollY(window.scrollY);
                window.addEventListener("scroll", handleScroll, { passive: true });
                return () => window.removeEventListener("scroll", handleScroll);
            }, []);
            return scrollY;
        };

        const useInView = (options = {}) => {
            const [isInView, setIsInView] = useState(false);
            const ref = useRef(null);
            useEffect(() => {
                const observer = new IntersectionObserver(([entry]) => {
                    if (entry.isIntersecting) {
                        setIsInView(true);
                        if (options.triggerOnce) observer.unobserve(entry.target);
                    } else if (!options.triggerOnce) {
                        setIsInView(false);
                    }
                }, { threshold: 0.1, ...options });
                if (ref.current) observer.observe(ref.current);
                return () => { if (ref.current) observer.unobserve(ref.current); };
            }, [options.triggerOnce]);
            return [ref, isInView];
        };

        // --- Components ---
        const RevealOnScroll = ({ children, className = "", delay = 0, animation = "fade-up" }) => {
            const [ref, isInView] = useInView({ triggerOnce: true });
            let animationClass = "";
            if (animation === "fade-up") animationClass = isInView ? "opacity-100 translate-y-0" : "opacity-0 translate-y-20";
            else if (animation === "zoom-in") animationClass = isInView ? "opacity-100 scale-100" : "opacity-0 scale-90";
            else if (animation === "slide-right") animationClass = isInView ? "opacity-100 translate-x-0" : "opacity-0 -translate-x-20";
            
            return (
                <div ref={ref} className={`transition-all duration-1000 ease-out ${animationClass} ${className}`} style={{ transitionDelay: `${delay}ms` }}>
                    {children}
                </div>
            );
        };

        const PoppingText = ({ text, className, delay = 0 }) => {
            if (!text) return null;
            const items = text.split('');
            return (
                <div className={`inline-block ${className}`}>
                    {items.map((char, i) => (
                        <span key={i} className="inline-block animate-pop-bounce origin-bottom" style={{ animationDelay: `${delay + i * 50}ms` }}>
                            {char === ' ' ? '\u00A0' : char}
                        </span>
                    ))}
                </div>
            );
        };

        const StatBar = ({ label, value, colorClass, icon: Icon, delay }) => (
            <div className="flex items-center gap-3 mb-2 animate-slide-in" style={{ animationDelay: `${delay}ms` }}>
                <div className={`p-2 rounded-full bg-white shadow-sm ${colorClass}`}><Icon size={16} /></div>
                <div className="flex-1">
                    <div className="flex justify-between text-xs font-bold text-gray-500 mb-1"><span>{label}</span><span>{value}</span></div>
                    <div className="h-3 bg-white/50 rounded-full overflow-hidden backdrop-blur-sm border border-white/30">
                        <div className={`h-full rounded-full transition-all duration-1000 ease-out bg-gradient-to-r ${colorClass}`} style={{ width: `${value}%` }} />
                    </div>
                </div>
            </div>
        );

        const ExplosionParticles = ({ activeId }) => {
            const particles = useMemo(() => {
                const icons = [Heart, Star, Music, Zap, Sparkles, Flower, Smile];
                return Array.from({ length: 20 }).map((_, i) => ({
                    id: i, Icon: icons[Math.floor(Math.random() * icons.length)],
                    style: { '--tx': `${Math.cos(Math.random()*360*(Math.PI/180))*(100+Math.random()*400)}px`, '--ty': `${Math.sin(Math.random()*360*(Math.PI/180))*(100+Math.random()*400)}px`, left: '50%', top: '50%', color: Math.random() > 0.5 ? 'white' : 'rgba(255,255,255,0.6)' },
                    size: 16 + Math.random() * 32, delay: Math.random() * 0.2
                }));
            }, [activeId]);
            return (
                <div className="absolute inset-0 pointer-events-none z-10 overflow-hidden">
                    {particles.map((p) => (
                        <div key={p.id} className="absolute animate-explode opacity-0" style={{ ...p.style, animationDelay: `${p.delay}s` }}>
                            <p.Icon size={p.size} fill="currentColor" />
                        </div>
                    ))}
                </div>
            );
        };

        const IdleBackgroundElements = ({ name }) => (
            <div className="absolute inset-0 pointer-events-none overflow-hidden z-0">
                <div className="absolute inset-0 flex items-center justify-center z-0">
                    <h1 key={name} className="text-[25vw] md:text-[20vw] font-black text-white italic tracking-tighter opacity-20 animate-text-bounce whitespace-nowrap select-none leading-none transform -rotate-6 origin-center" style={{ textShadow: '0 0 50px rgba(255,255,255,0.3)', filter: 'blur(1px)' }}>{name?.toUpperCase()}</h1>
                </div>
                <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[80vmax] h-[80vmax] border-2 border-dashed border-white/20 rounded-full animate-spin-slow z-10"></div>
                <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[60vmax] h-[60vmax] border border-white/10 rounded-full animate-spin-reverse-slow z-10"></div>
                <div className="absolute top-[10%] left-[10%] text-white/10 animate-float-slow z-10"><Heart size={120} /></div>
                <div className="absolute bottom-[20%] right-[10%] text-white/10 animate-float-slow delay-1000 z-10"><Music size={140} /></div>
                <div className="absolute top-[20%] right-[20%] text-white/10 animate-float-slow delay-2000 z-10"><Star size={80} /></div>
                <div className="absolute top-[40%] left-[-10%] w-[120%] h-[1px] bg-gradient-to-r from-transparent via-white/40 to-transparent rotate-[-10deg] animate-drift-line z-10"></div>
                <div className="absolute top-[70%] left-[-10%] w-[120%] h-[1px] bg-gradient-to-r from-transparent via-white/30 to-transparent rotate-[-5deg] animate-drift-line delay-1000 z-10"></div>
            </div>
        );

        const Header = () => {
            const [isOpen, setIsOpen] = useState(false);
            const scrollToSection = (id) => {
                setIsOpen(false);
                const element = document.getElementById(id);
                if (element) element.scrollIntoView({ behavior: 'smooth' });
            };
            return (
                <>
                    <header className="fixed top-0 left-0 w-full z-50 px-6 py-4 flex justify-between items-center pointer-events-none">
                        <div onClick={() => scrollToSection('top')} className="flex items-center gap-2 pointer-events-auto cursor-pointer transition-transform hover:scale-105">
                            <div className="w-8 h-8 md:w-10 md:h-10 rounded-full bg-white/20 backdrop-blur-md flex items-center justify-center border-2 border-white shadow-lg"><Crown size={20} className="text-white fill-white" /></div>
                            <div className="text-white font-black italic tracking-wider drop-shadow-md text-xl md:text-2xl">IDOL<span className="text-yellow-300">FIGHTER</span></div>
                        </div>
                        <button onClick={() => setIsOpen(true)} className="pointer-events-auto bg-white/20 hover:bg-white/30 backdrop-blur-md p-2 rounded-full border border-white/50 transition-all active:scale-95 shadow-lg group"><Menu size={28} className="text-white group-hover:rotate-180 transition-transform duration-500" /></button>
                    </header>
                    <div className={`fixed inset-0 z-[60] bg-slate-900/90 backdrop-blur-xl transition-all duration-500 flex items-center justify-center ${isOpen ? 'opacity-100 pointer-events-auto clip-circle-full' : 'opacity-0 pointer-events-none clip-circle-zero'}`}>
                        <button onClick={() => setIsOpen(false)} className="absolute top-6 right-6 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors text-white"><X size={32} /></button>
                        <nav className="text-center">
                            <ul className="space-y-6">
                                {[{ label: 'TOP', id: 'top' }, { label: 'IDOLS', id: 'idols' }, { label: 'STORY', id: 'story' }, { label: 'SYSTEM', id: 'system' }, { label: 'MOVIE', id: 'movie' }, { label: 'NEWS', id: 'news' }].map((item, i) => (
                                    <li key={item.id} className={`transform transition-all duration-500 ${isOpen ? 'translate-y-0 opacity-100' : 'translate-y-10 opacity-0'}`} style={{ transitionDelay: `${i * 100}ms` }}>
                                        <button onClick={() => scrollToSection(item.id)} className="block text-4xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-white to-white/50 hover:to-pink-400 transition-all hover:scale-110 tracking-widest mx-auto">{item.label}</button>
                                    </li>
                                ))}
                            </ul>
                        </nav>
                    </div>
                    <style>{`.clip-circle-zero { clip-path: circle(0% at top right); } .clip-circle-full { clip-path: circle(150% at top right); }`}</style>
                </>
            );
        };

        const LoadingScreen = ({ onLoaded }) => {
            const [progress, setProgress] = useState(0);
            const [isFinished, setIsFinished] = useState(false);
            useEffect(() => {
                const timer = setInterval(() => {
                    setProgress(prev => {
                        if (prev >= 100) {
                            clearInterval(timer);
                            setTimeout(() => setIsFinished(true), 500);
                            setTimeout(() => onLoaded(), 1000);
                            return 100;
                        }
                        const inc = prev < 80 ? Math.random() * 5 + 1 : Math.random() * 2;
                        return Math.min(prev + inc, 100);
                    });
                }, 50);
                return () => clearInterval(timer);
            }, [onLoaded]);
            const calculateDashOffset = (p) => {
                const drawProgress = Math.min(p / 90, 1);
                return 300 * (1 - drawProgress);
            };
            if (isFinished) return null;
            return (
                <div className={`fixed inset-0 z-[100] bg-slate-900 flex flex-col items-center justify-center transition-opacity duration-500 ${progress >= 100 ? 'opacity-0' : 'opacity-100'}`}>
                    <div className="relative w-32 h-32 mb-8">
                        <svg viewBox="0 0 100 100" className="w-full h-full drop-shadow-[0_0_10px_rgba(236,72,153,0.5)]">
                            <path d="M50 30 C 20 0, 0 30, 50 90 C 100 30, 80 0, 50 30" fill="none" stroke="#ec4899" strokeWidth="4" strokeLinecap="round" strokeDasharray={300} strokeDashoffset={calculateDashOffset(progress)} style={{ transition: 'stroke-dashoffset 0.1s linear' }} />
                        </svg>
                        <div className="absolute inset-0 flex items-center justify-center text-white font-bold text-xl">{Math.floor(progress)}%</div>
                    </div>
                    <div className="text-pink-400 font-bold tracking-widest animate-pulse">LOADING...</div>
                </div>
            );
        };

        const TopSection = ({ onSelectIdol }) => {
            const [rotation, setRotation] = useState(0);
            useEffect(() => {
                const interval = setInterval(() => setRotation(prev => prev - (360 / IDOLS.length)), 5000);
                return () => clearInterval(interval);
            }, []);
            const radius = 550;
            const anglePerItem = 360 / IDOLS.length;
            const beams = useMemo(() => Array.from({ length: 60 }).map((_, i) => ({
                id: i, angle: Math.random() * 360, delay: Math.random() * 2, duration: Math.random() * 0.4 + 0.3, width: Math.random() * 3 + 2, length: Math.random() * 50 + 50,
                color: Math.random() > 0.6 ? '#ffffff' : Math.random() > 0.4 ? '#ff00ff' : Math.random() > 0.2 ? '#00ffff' : '#ffff00'
            })), []);

            return (
                <section id="top" className="relative w-full h-screen overflow-hidden bg-black flex flex-col items-center justify-center text-white perspective-[1000px]">
                    <div className="absolute inset-0 z-0 opacity-60 mix-blend-screen pointer-events-none">
                        <div className="absolute top-[-50%] left-[-50%] w-[200%] h-[200%] bg-[repeating-conic-gradient(from_0deg_at_50%_50%,#000_0deg,#000_10deg,#ff00ff_10.5deg,#00ffff_11deg,#000_11.5deg,#000_20deg)] animate-spin-slow"></div>
                        <div className="absolute top-[-50%] left-[-50%] w-[200%] h-[200%] bg-[repeating-conic-gradient(from_0deg_at_50%_50%,#000_0deg,#000_15deg,rgba(255,255,0,0.8)_15.5deg,rgba(255,255,255,0.8)_16deg,#000_16.5deg,#000_30deg)] animate-spin-reverse-slow mix-blend-plus-lighter"></div>
                    </div>
                    <div className="absolute inset-0 z-0 overflow-hidden pointer-events-none">
                        {beams.map((beam) => (
                            <div key={beam.id} className="absolute top-1/2 left-1/2 w-0 h-0" style={{ transform: `rotate(${beam.angle}deg)` }}>
                                <div className="absolute top-[-1px] left-0 h-[2px] origin-left animate-laser-shot" style={{ height: `${beam.width}px`, width: `${beam.length}vmax`, background: `linear-gradient(90deg, transparent, ${beam.color}, transparent)`, boxShadow: `0 0 10px ${beam.color}`, animationDelay: `${beam.delay}s`, animationDuration: `${beam.duration}s` }} />
                            </div>
                        ))}
                    </div>
                    <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,0,255,0.2) 40%, transparent 70%) blur-3xl animate-strobe pointer-events-none mix-blend-screen"></div>
                    <div className="absolute inset-0 bg-white/10 animate-flash-hard pointer-events-none z-0"></div>
                    <div className="relative w-full h-full flex items-center justify-center z-10" style={{ transformStyle: 'preserve-3d', transform: `rotateZ(-15deg) rotateY(0deg)` }}>
                        <div className="absolute w-0 h-0" style={{ transformStyle: 'preserve-3d', transform: `rotateY(${rotation}deg)`, transition: 'transform 1.5s cubic-bezier(0.25, 1, 0.5, 1)' }}>
                            {IDOLS.map((idol, i) => (
                                <div key={idol.id} className="absolute top-1/2 left-1/2 cursor-pointer" onClick={() => onSelectIdol(i)} style={{ width: '270px', height: '480px', transform: `rotateY(${i * anglePerItem}deg) translateZ(${radius}px) translate(-50%, -50%)`, transformStyle: 'preserve-3d' }}>
                                    <div className="relative w-full h-full bg-white/10 backdrop-blur-md rounded-2xl border border-white/40 overflow-hidden shadow-[0_0_30px_rgba(255,255,255,0.2)] group hover:scale-110 hover:shadow-[0_0_80px_rgba(255,255,255,0.9)] hover:border-white transition-all duration-300">
                                        <div className={`absolute inset-0 bg-gradient-to-br ${idol.color} opacity-30 group-hover:opacity-60 transition-opacity`}></div>
                                        <img src={idol.image} alt={idol.name} className="w-full h-full object-cover object-top opacity-90 group-hover:opacity-100 transition-opacity" />
                                        <div className="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                            <div className="bg-white text-black px-6 py-2 rounded-full font-black tracking-widest border-4 border-black/20 shadow-xl transform scale-0 group-hover:scale-100 transition-transform">SELECT</div>
                                        </div>
                                        <div className="absolute bottom-0 left-0 w-full p-4 bg-gradient-to-t from-black/90 to-transparent">
                                            <div className="text-xl font-black italic text-white drop-shadow-md">{idol.name}</div>
                                            <div className="text-xs text-white/80">{idol.catchphrase}</div>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                    <div className="absolute z-20 text-center px-4 pointer-events-none">
                        <h1 className="text-6xl md:text-9xl font-black italic tracking-tighter mb-2 text-transparent bg-clip-text bg-gradient-to-r from-white via-pink-300 to-white drop-shadow-[0_0_30px_rgba(255,255,255,0.8)] animate-pulse">IDOL<span className="text-yellow-400">FIGHTER</span></h1>
                        <p className="text-sm md:text-lg font-bold bg-black/60 backdrop-blur-md py-2 px-8 rounded-full inline-block border border-white/50 text-white shadow-[0_0_20px_rgba(0,0,0,0.5)]">輝きを競え。ステージという名の戦場で。</p>
                    </div>
                    <div className="absolute bottom-10 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 z-20">
                        <span className="text-xs font-bold tracking-widest animate-pulse text-white shadow-black drop-shadow-md">SCROLL</span>
                        <div className="w-6 h-10 border-2 border-white rounded-full flex justify-center pt-2 bg-black/20 backdrop-blur-sm"><div className="w-1.5 h-1.5 bg-white rounded-full animate-scroll-dot"></div></div>
                    </div>
                </section>
            );
        };

        const IdolsSection = ({ currentIndex, setCurrentIndex }) => {
            const [isAnimating, setIsAnimating] = useState(false);
            const currentIdol = IDOLS[currentIndex];
            const changeIndex = (newIndex) => {
                if (isAnimating || newIndex === currentIndex) return;
                setCurrentIndex(newIndex);
                setIsAnimating(true);
                setTimeout(() => setIsAnimating(false), 600);
            };
            return (
                <section id="idols" className={`relative w-full h-screen overflow-hidden font-sans transition-colors duration-500 bg-gradient-to-br ${currentIdol.color}`}>
                    <RevealOnScroll className="absolute inset-0" animation="zoom-in">
                        <div key={`bg-${currentIndex}`} className={`circle-reveal bg-gradient-to-br ${currentIdol.color}`}>
                            <IdleBackgroundElements name={currentIdol.name} />
                            <ExplosionParticles activeId={currentIdol.id} />
                        </div>
                    </RevealOnScroll>
                    <div className="absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10 pointer-events-none mix-blend-overlay z-[2]"></div>
                    <div className="absolute top-20 left-0 w-full text-center z-10 pointer-events-none">
                        <RevealOnScroll delay={200}>
                            <h2 className="text-white/90 text-sm md:text-lg font-bold tracking-[0.3em] drop-shadow-md">CHOOSE YOUR IDOL</h2>
                            <div className="text-3xl md:text-5xl font-black text-white italic drop-shadow-[0_4px_4px_rgba(0,0,0,0.2)] shine-effect inline-block px-4 relative">IDOL SELECTION</div>
                        </RevealOnScroll>
                    </div>
                    <div className="flex flex-col md:flex-row items-center justify-center h-full w-full px-4 pb-24 md:pb-0 pt-20 relative z-10">
                        <button onClick={() => changeIndex((currentIndex - 1 + IDOLS.length) % IDOLS.length)} className="absolute left-2 top-1/2 -translate-y-1/2 md:static md:translate-y-0 z-30 group p-2 md:mr-8 hover:scale-110 transition-transform"><div className="bg-white/40 backdrop-blur-md rounded-full p-3 md:p-4 border-4 border-white shadow-xl group-hover:bg-white/60 group-active:scale-95 transition-all"><ChevronLeft size={32} className="text-white drop-shadow-md" /></div></button>
                        <div className="relative flex flex-col md:flex-row items-center w-full max-w-6xl mx-auto h-[70vh] md:h-[80vh]">
                            <div className="relative flex-1 h-full flex items-center justify-center order-1 md:order-2 z-20 w-full">
                                <RevealOnScroll animation="zoom-in" delay={300} className="w-full h-full flex items-center justify-center">
                                    <div key={`aura-${currentIdol.id}`} className={`absolute w-[280px] h-[420px] md:w-[500px] md:h-[750px] rounded-[50%] opacity-40 blur-3xl transition-all duration-500 animate-pulse bg-white/40`}></div>
                                    <div className="absolute bottom-[10%] w-[200px] h-[40px] md:w-[400px] md:h-[60px] bg-black/20 blur-xl rounded-[50%] transform scale-x-150"></div>
                                    <div key={`char-${currentIdol.id}`} className={`relative transition-transform duration-300 w-full h-full flex items-end justify-center pb-8 md:pb-12 ${isAnimating ? 'char-enter-right' : 'char-enter-right'}`}>
                                        <img src={currentIdol.image} alt={currentIdol.name} className="h-[50vh] md:h-[75vh] max-h-screen drop-shadow-2xl object-contain object-bottom transform transition-transform hover:scale-105 duration-500" style={{ filter: 'drop-shadow(0 0 15px rgba(255,255,255,0.6))' }} />
                                        <div className="absolute top-1/4 right-10 md:right-20 animate-bounce delay-700"><Sparkles className="text-white w-8 h-8 drop-shadow-lg" /></div>
                                        <div className="absolute bottom-1/3 left-10 md:left-20 animate-bounce delay-300"><Star className="text-yellow-300 w-10 h-10 drop-shadow-lg fill-yellow-300" /></div>
                                    </div>
                                </RevealOnScroll>
                            </div>
                            <div className="w-full md:w-1/3 order-2 md:order-1 flex flex-col justify-center items-start z-30 mt-4 md:mt-0 px-4 md:px-0 pointer-events-none">
                                <div key={`info-${currentIdol.id}`} className={isAnimating ? 'opacity-0' : 'opacity-100'}>
                                    <div className="bg-white/80 backdrop-blur-xl p-6 rounded-3xl shadow-xl border-4 border-white/50 transform -rotate-2 md:-rotate-3 hover:rotate-0 transition-transform duration-300 mb-6 w-full animate-pop-up origin-bottom-left pointer-events-auto">
                                        <div className={`text-xs font-bold uppercase tracking-widest mb-1 ${currentIdol.textAccent}`}>No.0{currentIdol.id} • {currentIdol.type} Type</div>
                                        <h2 className="text-4xl md:text-6xl font-black text-slate-800 leading-tight tracking-tighter mb-1"><PoppingText text={currentIdol.name} /></h2>
                                        <div className="text-lg md:text-xl font-bold text-slate-500 mb-2"><PoppingText text={currentIdol.jpName} delay={300} /></div>
                                        <div className={`inline-block px-3 py-1 rounded-full text-xs font-bold text-white bg-gradient-to-r ${currentIdol.color} shadow-md`}><PoppingText text={`"${currentIdol.catchphrase}"`} delay={500} /></div>
                                    </div>
                                    <div className="bg-white/50 backdrop-blur-md rounded-2xl p-4 w-full shadow-lg border-2 border-white/60 pointer-events-auto">
                                        <StatBar label="VOCAL" value={currentIdol.stats.vocal} colorClass={currentIdol.color} icon={Mic} delay={600} />
                                        <StatBar label="DANCE" value={currentIdol.stats.dance} colorClass={currentIdol.color} icon={Music} delay={700} />
                                        <StatBar label="VISUAL" value={currentIdol.stats.visual} colorClass={currentIdol.color} icon={Heart} delay={800} />
                                    </div>
                                </div>
                            </div>
                            <div className="hidden md:block w-1/6 order-3"></div>
                        </div>
                        <button onClick={() => changeIndex((currentIndex + 1) % IDOLS.length)} className="absolute right-2 top-1/2 -translate-y-1/2 md:static md:translate-y-0 z-30 group p-2 md:ml-8 hover:scale-110 transition-transform"><div className="bg-white/40 backdrop-blur-md rounded-full p-3 md:p-4 border-4 border-white shadow-xl group-hover:bg-white/60 group-active:scale-95 transition-all"><ChevronRight size={32} className="text-white drop-shadow-md" /></div></button>
                    </div>
                    <div className="absolute bottom-0 left-0 w-full bg-white/30 backdrop-blur-xl border-t border-white/40 p-2 md:p-4 z-40 shadow-[0_-5px_20px_rgba(0,0,0,0.1)]">
                        <div className="flex justify-start md:justify-center gap-2 md:gap-4 overflow-x-auto pb-2 md:pb-0 scrollbar-hide w-full max-w-7xl mx-auto px-4">
                            {IDOLS.map((idol, idx) => (
                                <button key={idol.id} onClick={() => changeIndex(idx)} className={`relative flex-shrink-0 w-16 h-16 md:w-20 md:h-20 rounded-2xl overflow-hidden border-2 transition-all duration-300 ${currentIndex === idx ? 'border-white scale-110 shadow-[0_0_15px_rgba(255,255,255,0.9)] -translate-y-2 ring-2 ring-pink-300 ring-offset-2 ring-offset-transparent' : 'border-transparent opacity-70 hover:opacity-100 hover:scale-105 hover:-translate-y-1 bg-white/40'}`}>
                                    <div className={`absolute inset-0 bg-gradient-to-br ${idol.color} opacity-90`}></div>
                                    <img src={idol.thumbnail} alt={idol.name} className="absolute bottom-0 left-1/2 -translate-x-1/2 w-[90%] h-[90%] object-contain object-center pb-1" />
                                    {currentIndex === idx && (<div className="absolute top-1 right-1"><Crown size={14} className="text-white fill-yellow-300 drop-shadow-md animate-bounce" /></div>)}
                                </button>
                            ))}
                        </div>
                    </div>
                </section>
            );
        };

        const StorySection = () => {
            const scrollY = useScroll();
            const [randomImages, setRandomImages] = useState([]);
            useEffect(() => {
                const shuffled = [...IDOLS].sort(() => 0.5 - Math.random());
                setRandomImages(shuffled.slice(0, 5));
            }, []);
            return (
                <section id="story" className="relative w-full py-32 md:py-48 bg-slate-900 overflow-hidden text-white">
                    <div className="absolute inset-0 overflow-hidden pointer-events-none opacity-40">
                        {randomImages.map((idol, i) => (
                            <div key={i} className="absolute rounded-2xl overflow-hidden shadow-2xl grayscale hover:grayscale-0 transition-all duration-700" style={{ top: `${10 + (i * 20)}%`, left: `${i % 2 === 0 ? 5 + (i * 10) : 60 - (i * 5)}%`, width: `${150 + Math.random() * 100}px`, height: `${200 + Math.random() * 150}px`, transform: `translateY(${(scrollY * 0.1 * (i + 1) * 0.5) - 100}px) rotate(${i % 2 === 0 ? -10 : 10}deg)`, zIndex: 0 }}>
                                <div className={`absolute inset-0 bg-gradient-to-br ${idol.color} opacity-30`}></div>
                                <img src={idol.image} alt="story bg" className="w-full h-full object-cover" />
                            </div>
                        ))}
                    </div>
                    <div className="container mx-auto px-6 max-w-5xl relative z-10">
                        <RevealOnScroll>
                            <div className="text-center mb-16">
                                <h2 className="text-5xl md:text-7xl font-black mb-2 tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500">STORY</h2>
                                <p className="mt-4 text-slate-400 font-bold tracking-widest">物語</p>
                            </div>
                        </RevealOnScroll>
                        <div className="flex flex-col gap-12 items-center">
                            <RevealOnScroll animation="zoom-in" delay={200} className="w-full md:w-3/4">
                                <div className="relative rounded-3xl overflow-hidden shadow-[0_0_50px_rgba(236,72,153,0.3)] border-4 border-white/10 group">
                                    <div className="aspect-[21/9] bg-gradient-to-br from-indigo-900 to-black flex items-center justify-center relative overflow-hidden">
                                        <div className="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20 animate-pulse-slow"></div>
                                        <Sparkles size={64} className="text-white opacity-20 absolute top-4 left-4" />
                                        <div className="text-4xl font-black text-white/10 tracking-[1em] absolute">THE STAGE</div>
                                    </div>
                                </div>
                            </RevealOnScroll>
                            <RevealOnScroll animation="fade-up" delay={400} className="w-full md:w-3/4 bg-black/60 backdrop-blur-xl p-8 md:p-12 rounded-3xl border border-white/20 shadow-2xl">
                                <div className="space-y-8 text-slate-200 leading-relaxed font-medium text-lg md:text-xl text-center md:text-left">
                                    <p>時は20XX年。アイドル業界は、かつてないほどの飽和状態を迎えていた。<br/>「カッコいいだけじゃ生き残れない」</p>
                                    <p>そんな過酷な時代に生まれた新たなエンターテインメント、<br/>それが<span className="text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-400 font-black text-2xl">アイドル・バトルトーナメント</span>。</p>
                                    <p>歌唱力、ダンス、ビジュアル、そして――「闘争心」。<br/>全てを懸けてステージの上でぶつかり合う少年たち。<br/>勝者には栄光のセンターポジションが、敗者には残酷な運命が待っている。</p>
                                    <p className="font-black text-3xl text-white pt-4">さあ、推しをトップへ導け。</p>
                                </div>
                            </RevealOnScroll>
                        </div>
                    </div>
                </section>
            );
        };

        const SystemSection = () => {
            const systems = [
                { title: "RHYTHM BATTLE", Icon: Music, desc: "リズムに合わせてコンボを決めろ！楽曲のビートとバトルの衝撃がシンクロする新感覚アクション。", color: "bg-blue-100 text-blue-500" },
                { title: "DRESS UP", Icon: Heart, desc: "衣装チェンジでステータス変化！「カッコいい」は「強い」。戦略的なコーディネートでライバルに差をつけよう。", color: "bg-pink-100 text-pink-500" },
                { title: "LIVE STAGE", Icon: Zap, desc: "クライマックスは3Dライブ演出！必殺技ゲージが溜まれば、ド派手なスペシャルパフォーマンスが発動。", color: "bg-yellow-100 text-yellow-500" },
            ];
            return (
                <section id="system" className="relative w-full py-24 md:py-32 bg-white">
                    <div className="container mx-auto px-6 max-w-6xl relative z-10">
                        <RevealOnScroll>
                            <div className="text-center mb-16">
                                <h2 className="text-4xl md:text-5xl font-black text-slate-800 mb-2 tracking-tighter">SYSTEM</h2>
                                <div className="w-20 h-1 bg-blue-400 mx-auto"></div>
                                <p className="mt-4 text-slate-500 font-bold">ゲームシステム</p>
                            </div>
                        </RevealOnScroll>
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                            {systems.map((sys, i) => (
                                <RevealOnScroll key={i} delay={i * 200} animation="slide-right">
                                    <div className="bg-slate-50 rounded-3xl p-8 hover:-translate-y-2 transition-transform duration-300 shadow-lg border border-slate-100 group h-full">
                                        <div className={`w-16 h-16 rounded-2xl ${sys.color} flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-md`}><sys.Icon size={32} /></div>
                                        <h3 className="text-2xl font-black text-slate-800 mb-4">{sys.title}</h3>
                                        <p className="text-slate-600 font-medium leading-relaxed">{sys.desc}</p>
                                    </div>
                                </RevealOnScroll>
                            ))}
                        </div>
                    </div>
                </section>
            );
        };

        const MovieSection = () => (
            <section id="movie" className="relative w-full py-24 md:py-32 bg-slate-900 text-white">
                <div className="container mx-auto px-6 max-w-4xl relative z-10">
                    <RevealOnScroll>
                        <div className="text-center mb-16">
                            <h2 className="text-4xl md:text-5xl font-black text-white mb-2 tracking-tighter">MOVIE</h2>
                            <div className="w-20 h-1 bg-purple-500 mx-auto"></div>
                            <p className="mt-4 text-slate-400 font-bold">プロモーション映像</p>
                        </div>
                    </RevealOnScroll>
                    <RevealOnScroll animation="zoom-in" delay={200}>
                        <div className="w-full aspect-video bg-slate-800 rounded-2xl shadow-2xl border-4 border-slate-700 relative flex items-center justify-center group cursor-pointer overflow-hidden">
                            <div className="absolute inset-0 bg-gradient-to-br from-indigo-900 to-purple-900 opacity-50 group-hover:opacity-40 transition-opacity"></div>
                            <div className="absolute inset-0 flex items-center justify-center">
                                <div className="w-20 h-20 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center border-2 border-white group-hover:scale-110 transition-transform duration-300"><Play size={40} className="fill-white text-white ml-2" /></div>
                            </div>
                            <span className="absolute bottom-4 right-6 text-sm font-bold tracking-widest opacity-70">OFFICIAL TRAILER VOL.1</span>
                        </div>
                    </RevealOnScroll>
                </div>
            </section>
        );

        const NewsSection = () => (
            <section id="news" className="relative w-full py-24 md:py-32 bg-slate-50">
                <div className="container mx-auto px-6 max-w-4xl relative z-10">
                    <RevealOnScroll>
                        <div className="text-center mb-16">
                            <h2 className="text-4xl md:text-5xl font-black text-slate-800 mb-2 tracking-tighter">NEWS</h2>
                            <div className="w-20 h-1 bg-green-400 mx-auto"></div>
                            <p className="mt-4 text-slate-500 font-bold">最新情報</p>
                        </div>
                    </RevealOnScroll>
                    <div className="space-y-4">
                        {NEWS_DATA.map((news, i) => (
                            <RevealOnScroll key={i} delay={i * 100} animation="fade-up">
                                <div className="bg-white p-6 rounded-2xl shadow-sm hover:shadow-md transition-shadow flex flex-col md:flex-row items-start md:items-center gap-4 border border-slate-100 group cursor-pointer">
                                    <div className="flex items-center gap-3">
                                        <div className="bg-slate-100 text-slate-500 text-xs font-bold px-3 py-1 rounded-full flex items-center gap-1"><Calendar size={12} /> {news.date}</div>
                                        <div className={`text-xs font-bold px-3 py-1 rounded-full border ${news.cat === 'EVENT' ? 'border-pink-200 text-pink-500 bg-pink-50' : news.cat === 'UPDATE' ? 'border-blue-200 text-blue-500 bg-blue-50' : news.cat === 'MEDIA' ? 'border-purple-200 text-purple-500 bg-purple-50' : 'border-slate-200 text-slate-500 bg-slate-50'}`}>{news.cat}</div>
                                    </div>
                                    <div className="flex-1 font-bold text-slate-700 group-hover:text-slate-900 transition-colors">{news.title}</div>
                                    <div className="hidden md:block text-slate-300 group-hover:translate-x-1 transition-transform">→</div>
                                </div>
                            </RevealOnScroll>
                        ))}
                    </div>
                    <RevealOnScroll delay={500}>
                        <div className="text-center mt-12">
                            <button className="px-8 py-3 bg-slate-800 text-white rounded-full font-bold hover:bg-slate-700 transition-colors shadow-lg hover:shadow-xl transform hover:-translate-y-1">VIEW ALL</button>
                        </div>
                    </RevealOnScroll>
                </div>
            </section>
        );

        const Footer = () => (
            <footer className="bg-slate-900 text-white py-12 border-t border-slate-800">
                <div className="container mx-auto px-6 text-center">
                    <div className="flex items-center justify-center gap-2 mb-6"><Crown size={24} className="text-yellow-400 fill-yellow-400" /><span className="text-2xl font-black italic">IDOLFIGHTER</span></div>
                    <div className="flex justify-center gap-6 mb-8 text-sm text-slate-400 font-bold"><a href="#" className="hover:text-white transition-colors">利用規約</a><a href="#" className="hover:text-white transition-colors">プライバシーポリシー</a><a href="#" className="hover:text-white transition-colors">お問い合わせ</a></div>
                    <p className="text-xs text-slate-600">&copy; 2024 IDOL FIGHTER PROJECT All Rights Reserved.</p>
                </div>
            </footer>
        );

        const IdolWebsite = () => {
            const [loaded, setLoaded] = useState(false);
            const [currentIdolIndex, setCurrentIdolIndex] = useState(0);
            const handleLoaded = useCallback(() => {
                setLoaded(true);
                window.scrollTo(0, 0);
            }, []);
            const handleIdolSelect = (index) => {
                setCurrentIdolIndex(index);
                const element = document.getElementById('idols');
                if (element) element.scrollIntoView({ behavior: 'smooth' });
            };

            return (
                <div className="w-full font-sans bg-slate-50">
                    {!loaded && <LoadingScreen onLoaded={handleLoaded} />}
                    {loaded && (
                        <>
                            <Header />
                            <main className="animate-fade-in">
                                <TopSection onSelectIdol={handleIdolSelect} />
                                <IdolsSection currentIndex={currentIdolIndex} setCurrentIndex={setCurrentIdolIndex} />
                                <StorySection />
                                <SystemSection />
                                <MovieSection />
                                <NewsSection />
                            </main>
                            <Footer />
                        </>
                    )}
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<IdolWebsite />);
    </script>
</body>
</html>